<!DOCTYPE html>
<html>
<head>
    <title>Terminal - System Status</title>
    <style>
        /* DESIGN FIXO E IMUTÁVEL */
        body { background-color: #0d1117; color: #58a6ff; font-family: 'Courier New', monospace; padding: 20px; }
        .cmd { margin-bottom: 10px; display: none; }
        .cursor { display: inline-block; width: 10px; height: 20px; background: #58a6ff; animation: blink 1s infinite; }
        .success { color: #3fb950; font-weight: bold; }
        .error { color: #f85149; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* Estilos do Formulário Inicial */
        #form-container { max-width: 500px; margin: 50px auto; border: 1px solid #58a6ff; padding: 20px; border-radius: 8px; }
        .form-title { color: #3fb950; margin-bottom: 20px; text-align: center; font-weight: bold; }
        .question { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-size: 14px; }
        input[type="text"], input[type="email"], select { width: 100%; background: #161b22; border: 1px solid #30363d; color: #58a6ff; padding: 8px; font-family: inherit; box-sizing: border-box; }
        button#submit-btn { width: 100%; background: #238636; color: white; border: none; padding: 12px; margin-top: 20px; cursor: pointer; font-family: inherit; font-weight: bold; border-radius: 6px; }
        button#submit-btn:hover { background: #2ea043; }

        /* Elemento de Erro e Ênfase Final */
        #connection-error { display: none; text-align: center; margin-top: 50px; font-weight: bold; }
        .final-highlight { font-size: 2em; display: block; margin-top: 20px; border: 2px solid #3fb950; padding: 15px; text-align: center; }
    </style>
</head>
<body>

    <div id="form-container">
        <div class="form-title">CADASTRO DE NOVO USUÁRIO - VPN GATEWAY</div>
        
        <div class="question">
            <label>Nome Completo:</label>
            <input type="text" id="q1" placeholder="Ex: Nome Sobrenome">
        </div>

        <div class="question">
            <label>E-mail Corporativo:</label>
            <input type="email" id="q2" placeholder="usuario@empresa.com.br">
        </div>

        <div class="question">
            <label>Departamento:</label>
            <select id="q3">
                <option value="ti">Tecnologia da Informação</option>
                <option value="rh">Recursos Humanos</option>
                <option value="adm">Administrativo</option>
                <option value="outros">Outros</option>
            </select>
        </div>

        <div class="question">
            <label>Nível de Acesso solicitado:</label>
            <select id="q4">
                <option value="leitura">Somente Leitura</option>
                <option value="admin">Administrador Global</option>
            </select>
        </div>

        <div class="question">
            <label>Justificativa de acesso:</label>
            <input type="text" id="q5" placeholder="Motivo da solicitação...">
        </div>

        <button id="submit-btn" onclick="triggerSystem()">SUBMETER CADASTRO</button>
    </div>

    <div id="connection-error" class="error">
        [SISTEMA CONGELADO] <br><br>
        ERRO CRÍTICO: FALHA NA COMUNICAÇÃO COM O GATEWAY PRINCIPAL. <br>
        TENTANDO RECONEXÃO COM O SERVIDOR CENTRAL EM 3... 2... 1...
    </div>

    <div id="terminal-interface" style="display: none;">
        <div id="terminal"></div>
        <span class="cursor" id="main-cursor"></span>
    </div>

    <script>
        const lines = [
            "> Estabelecendo túnel SSH com Rio do Sul/SC...",
            "> Conexão forçada estabelecida com sucesso.",
            "> Recebendo formulário de diagnóstico...",
            "> Analisando parâmetros de entrada...",
            "> Status: Localizado em Rio do Sul/SC",
            "> Alvo: Localizado em Santos/SP",
            "> Sincronizando bancos de dados de rotina...",
            "> [ERROR] Latência muito alta detectada.",
            "> [ERROR] Distância física excedendo o limite permitido pelo protocolo 'AMOR-2.0'.",
            "> Tentando solução alternativa baseada nas respostas do formulário...",
            "> Executando: git checkout -b morar_juntos",
            "> Movendo pacotes de: Rio do Sul/SC -> Santos/SP",
            "> Atualizando endereço residencial no sistema...",
            "> PROCESSO CONCLUÍDO COM SUCESSO!",
            "> [SISTEMA]: A distância não é mais um requisito de hardware.",
            "> [SISTEMA]: Deletando 'Saudade.exe' de ambos os diretórios...",
            "> [SISTEMA]: Sincronização de vida completa. Prepare o nosso café.",
            "> <span class='final-highlight'>DEPLOY FINAL: EU ESTOU INDO MORAR COM VOCÊ! ❤️</span>"
        ];

        let i = 0;

        function triggerSystem() {
            // Fase 1: Congelamento e Erro
            document.getElementById("form-container").style.display = "none";
            document.getElementById("connection-error").style.display = "block";
            
            // Fase 2: Após 5 segundos de "erro", inicia o terminal
            setTimeout(startTerminal, 5000);
        }

        function startTerminal() {
            document.getElementById("connection-error").style.display = "none";
            document.getElementById("terminal-interface").style.display = "block";
            type();
        }

        function type() {
            if (i < lines.length) {
                let div = document.createElement("div");
                div.className = "cmd";
                
                // Mantendo integridade das classes CSS
                if (lines[i].includes("ERROR")) div.className += " error";
                if (lines[i].includes("SUCESSO") || lines[i].includes("FINAL") || lines[i].includes("SISTEMA")) div.className += " success";
                
                div.innerHTML = lines[i];
                document.getElementById("terminal").appendChild(div);
                div.style.display = "block";
                i++;

                // Delays para suspense
                let delay = 2500; 
                if (i >= 7 && i <= 9) delay = 3500; 
                if (i > 13) delay = 4500; 
                if (i === lines.length - 1) delay = 6000;

                setTimeout(type, delay);
            }
        }
    </script>
</body>
</html>